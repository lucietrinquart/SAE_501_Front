<div class="flex gap-[5px] p-[5px] bg-gray-200 h-screen">
  <!-- Bloc de gauche pour les données additionnelles -->
  <div class="w-1/3 bg-gray-400 p-[5px] flex flex-col gap-[5px]">
    <div class="h-1/5 bg-gray-600"></div>
    <div class="h-4/5 bg-gray-600">
      <!-- Liste des utilisateurs -->
      <ul>
        @for (user of users; track user.id) {
        @for (userworkloads of userworkload; track userworkloads.id) {
        @if(user.id == userworkloads.id){
        <div class="cursor-pointer px-4 py-2 bg-white border rounded">
          <li>{{ user.username }}</li>
        </div>
        }
        }
        }
      </ul>
    </div>
  </div>

  <!-- Bloc de droite pour le tableau -->
  <div class="flex flex-col w-full gap-[5px]">
    <!-- Onglets pour les semestres -->
    <ul class="flex gap-[10px] p-[10px] bg-gray-300">
      @for (sem of semestre; track sem.id) {
      <li class="cursor-pointer px-4 py-2 bg-white border rounded" [class.bg-blue-500]="selectedSemester === sem.id"
        (click)="selectSemester(sem.id)">
        Semestre {{ sem.id }}
      </li>
      }
    </ul>

    <!-- Afficher les ressources en fonction du semestre sélectionné -->
    @for (resources of resource; track resources.id) {
    <!-- Filtrer les ressources par semestre -->
    @if (+resources.semester_id === selectedSemester) {
    <div class="flex flex-col w-full gap-[5px]">
      <!-- Nom de la ressource -->
      <div class="flex flex-col w-2/3 bg-gray-400 p-[5px]">
        <div class="bg-white text-black p-[2px]">{{ resources.name }}</div>

        <!-- Tableau avec les utilisateurs et leurs volumes -->
        <div class="bg-gray-300 p-[5px]">
          <table class="table-auto w-full text-left">
            <!-- En-têtes du tableau -->
            <thead>
              <tr>
                <th class="border px-4 py-2"></th> <!-- Cellule vide pour la première colonne -->
                <th class="border px-4 py-2">CM</th>
                <th class="border px-4 py-2">TD</th>
                <th class="border px-4 py-2">TP</th>
              </tr>
            </thead>
            <tbody>
              @for (user of users; track user.id) {
              @for (userworkloads of userworkload; track userworkloads.id) {
              @if(user.id == userworkloads.id) {
              <tr>
                <!-- Nom du prof dans la première colonne -->
                <td class="border px-4 py-2">{{ user.username }}</td>
                <!-- Volume CM dans la deuxième colonne -->
                <td class="border px-4 py-2">{{ userworkloads.vol_cm }}</td>
                <!-- Volume TD dans la troisième colonne -->
                <td class="border px-4 py-2">{{ userworkloads.vol_td }}</td>
                <!-- Volume TP dans la quatrième colonne -->
                <td class="border px-4 py-2">{{ userworkloads.vol_tp }}</td>
              </tr>
              }
              }
              }
            </tbody>
          </table>
        </div>
      </div>
    </div>
    }
    }
  </div>
</div>


<!-- Existing page content -->
<div class="max-w-md mx-auto bg-white p-6 rounded-lg shadow-md">
  <h3 class="text-xl font-bold mb-4">Ajouter un nouveau semestre</h3>
  <form (ngSubmit)="onSubmit()" #semesterForm="ngForm" class="space-y-6">
    <div class="form-group">
      <label for="number" class="block text-sm font-medium text-gray-700">Numéro du semestre</label>
      <input type="number" id="number" [(ngModel)]="newSemester.number" name="number" required
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" />
    </div>

    <div class="form-group">
      <label for="name" class="block text-sm font-medium text-gray-700">Nom du semestre</label>
      <input type="text" id="name" [(ngModel)]="newSemester.name" name="name" required
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" />
    </div>

    <div class="form-group">
      <label for="nb_td" class="block text-sm font-medium text-gray-700">Nombre de TD</label>
      <input type="number" id="nb_td" [(ngModel)]="newSemester.nb_td" name="nb_td"
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" />
    </div>

    <div class="form-group">
      <label for="nb_tp" class="block text-sm font-medium text-gray-700">Nombre de TP</label>
      <input type="number" id="nb_tp" [(ngModel)]="newSemester.nb_tp" name="nb_tp"
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" />
    </div>

    <button type="submit"
      class="w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
      [disabled]="!semesterForm.form.valid">
      Ajouter
    </button>
  </form>

</div>